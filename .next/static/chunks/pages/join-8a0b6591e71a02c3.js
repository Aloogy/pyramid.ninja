(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[288],{4050:(e,t,a)=>{"use strict";a.d(t,{A:()=>x});var r=a(7876),s=a(4232),n=a(7328),i=a.n(n),l=a(8230),o=a.n(l),d=a(9099);let c=()=>{let e=(0,d.useRouter)(),[t,a]=(0,s.useState)(!1),n=e.pathname.startsWith("/game/");return(0,r.jsxs)("nav",{className:"bg-gray-900 bg-opacity-55 py-4 px-6",children:[(0,r.jsxs)("div",{className:"container mx-auto flex justify-between items-center",children:[(0,r.jsxs)(o(),{href:"/",className:"flex items-center",children:[(0,r.jsx)("img",{src:"/assets/img/icon.png",alt:"Pyramid.Ninja logo",className:"h-8 mr-2"}),(0,r.jsx)("span",{className:"text-white text-xl font-bold",children:"Pyramid.Ninja"})]}),(0,r.jsx)("div",{className:"hidden md:flex items-center space-x-1",children:!n&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(o(),{href:"/join",className:"px-4 py-2 text-white hover:bg-gray-700 hover:bg-opacity-70 rounded transition duration-200 flex items-center",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M3 3a1 1 0 011 1v12a1 1 0 11-2 0V4a1 1 0 011-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z",clipRule:"evenodd"})}),"Join Game"]}),(0,r.jsxs)(o(),{href:"/host",className:"px-4 py-2 text-white hover:bg-gray-700 hover:bg-opacity-70 rounded transition duration-200 flex items-center",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z",clipRule:"evenodd"})}),"Host Game"]}),(0,r.jsxs)(o(),{href:"/about",className:"px-4 py-2 text-white hover:bg-gray-700 hover:bg-opacity-70 rounded transition duration-200 flex items-center",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"About"]})]})}),(0,r.jsx)("div",{className:"md:hidden",children:(0,r.jsx)("button",{onClick:()=>{a(!t)},className:"text-white hover:text-gray-300 focus:outline-none",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t?(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})})]}),t&&!n&&(0,r.jsxs)("div",{className:"md:hidden pt-2 pb-4 px-4",children:[(0,r.jsx)(o(),{href:"/join",className:"block px-4 py-2 text-white hover:bg-gray-700 hover:bg-opacity-70 rounded transition duration-200",onClick:()=>a(!1),children:"Join Game"}),(0,r.jsx)(o(),{href:"/host",className:"block px-4 py-2 text-white hover:bg-gray-700 hover:bg-opacity-70 rounded transition duration-200",onClick:()=>a(!1),children:"Host Game"}),(0,r.jsx)(o(),{href:"/about",className:"block px-4 py-2 text-white hover:bg-gray-700 hover:bg-opacity-70 rounded transition duration-200",onClick:()=>a(!1),children:"About"})]})]})},h=()=>(0,r.jsx)("footer",{className:"bg-gray-900 bg-opacity-55 py-4 px-6 mt-auto",children:(0,r.jsx)("div",{className:"container mx-auto",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[(0,r.jsx)("nav",{className:"mb-4 md:mb-0",children:(0,r.jsxs)("ul",{className:"flex flex-wrap gap-4 justify-center md:justify-start",children:[(0,r.jsx)("li",{children:(0,r.jsx)(o(),{href:"/about",className:"text-white hover:text-gray-300 transition duration-200",children:"About"})}),(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:"https://www.iubenda.com/privacy-policy/71074056",target:"_blank",rel:"noreferrer",className:"text-white hover:text-gray-300 transition duration-200",children:"Privacy"})}),(0,r.jsx)("li",{children:(0,r.jsx)(o(),{href:"/join",className:"text-white hover:text-gray-300 transition duration-200",children:"Join Game"})}),(0,r.jsx)("li",{children:(0,r.jsx)(o(),{href:"/host",className:"text-white hover:text-gray-300 transition duration-200",children:"Host Game"})})]})}),(0,r.jsxs)("div",{className:"text-white text-sm",children:["2.1.0"," made with",(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 inline mx-1 text-rose-500",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})}),"by"," ",(0,r.jsx)("a",{href:"https://www.rouic.com",target:"_blank",rel:"noreferrer",className:"text-rose-500 hover:text-rose-400 transition duration-200",children:"Rouic"})]})]})})}),x=e=>{let{children:t,pageTitle:a=""}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i(),{children:(0,r.jsx)("title",{children:a?"Pyramid.Ninja | ".concat(a):"Pyramid.Ninja - Online version of the drinking card game"})}),(0,r.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,r.jsx)(c,{}),(0,r.jsx)("main",{className:"flex-grow",children:t}),(0,r.jsx)(h,{})]})]})}},8318:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var r=a(7876),s=a(4232),n=a(9099),i=a(8230),l=a.n(i),o=a(4050),d=a(7187),c=a(4403);let h=()=>{let e=(0,n.useRouter)(),{joinGame:t,loading:a,error:i}=(0,d.Im)(),{userUid:h}=(0,c.As)(),[x,m]=(0,s.useState)(""),[u,g]=(0,s.useState)(""),[p,j]=(0,s.useState)(null),[w,v]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let e=localStorage.getItem("playerName");e&&g(e)},[]);let f=async a=>{if(a.preventDefault(),j(null),!x.trim()){j("Game code is required");return}if(!u.trim()){j("Your name is required");return}if(!h){j("Not authenticated. Please refresh the page and try again.");return}try{v(!0),await t(x,u),localStorage.setItem("playerName",u),e.push("/game/".concat(x.toUpperCase()))}catch(e){console.error("Failed to join game:",e),j(i||"Failed to join game. Please check your game code and try again.")}finally{v(!1)}};return(0,r.jsx)(o.A,{pageTitle:"Join Game",children:(0,r.jsx)("div",{className:"container mx-auto px-4 pt-8 pb-20",children:(0,r.jsx)("div",{className:"max-w-md mx-auto bg-white bg-opacity-90 rounded-xl shadow-lg overflow-hidden",children:(0,r.jsxs)("div",{className:"p-8",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-center text-gray-800 mb-6",children:"Enter Game Code to Join"}),(0,r.jsxs)("form",{onSubmit:f,children:[(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsxs)("div",{className:"flex items-center p-2 bg-gray-100 rounded-lg focus-within:ring-2 focus-within:ring-blue-500",children:[(0,r.jsx)("span",{className:"text-gray-500 mr-2",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14"})})}),(0,r.jsx)("input",{type:"text",placeholder:"Game Code (4 letters)",value:x,onChange:e=>m(e.target.value.toUpperCase()),maxLength:4,className:"w-full bg-transparent outline-none text-gray-800 placeholder-gray-500",disabled:w})]})}),(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsxs)("div",{className:"flex items-center p-2 bg-gray-100 rounded-lg focus-within:ring-2 focus-within:ring-blue-500",children:[(0,r.jsx)("span",{className:"text-gray-500 mr-2",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,r.jsx)("input",{type:"text",placeholder:"Your Name",value:u,onChange:e=>g(e.target.value.toUpperCase()),maxLength:10,className:"w-full bg-transparent outline-none text-gray-800 placeholder-gray-500",disabled:w})]})}),(p||i)&&(0,r.jsx)("div",{className:"mb-6 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:p||i}),(0,r.jsx)("button",{type:"submit",className:"w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-4 rounded-lg transition duration-300 ".concat(w||a?"opacity-50 cursor-not-allowed":""),disabled:w||a,children:w||a?"Joining...":"Join Game"})]}),(0,r.jsx)("div",{className:"text-center mt-6",children:(0,r.jsx)(l(),{href:"/",className:"text-blue-500 hover:text-blue-700 transition duration-300",children:"← Back to Start"})})]})})})})}},9276:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/join",function(){return a(8318)}])}},e=>{var t=t=>e(e.s=t);e.O(0,[8,636,593,792],()=>t(9276)),_N_E=e.O()}]);